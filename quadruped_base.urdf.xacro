<?xml version="1.0"?>

<robot name="quadruped_base" xmlns:xacro="http://ros.org/wiki/xacro">
    
    <!-- Wheel Mounting Positions and Properties-->
    <xacro:property name="wheel_radius" value="0.0762" />

	<xacro:macro name="quadruped_base">
	
        <!-- Base link is the center of the robot's chassis between the motors projected on the ground -->
        <link name="base_link"/>
		        
        <joint name="base_chassis_joint" type="fixed">
            <origin xyz="0 0 ${wheel_radius}" rpy="0 0 0" />
            <parent link="base_link" />
            <child link="base_chassis_link" />
        </joint>
        
        <link name="base_chassis_link">
	    	<inertial>
		    <mass value="5.0" />
		    <origin xyz="-0.000710 -0.000186 0.5" rpy="0 0 0"/>
		    <inertia ixx="3.126061"  ixy="-0.032687" ixz="-0.086662"
                         iyx="-0.032687" iyy="13.356772" iyz="0.000468"
                         izx="-0.086662" izy="0.000468"  izz="15.218700" />
	    	</inertial>
		<collision>
			    <geometry>
				<box size="2 1 1" />				    
			    </geometry>		
		</collision>
		<visual>
		<origin xyz="0 0 0" rpy="0 0 0" />
		    <geometry>
				<box size="1 1 1" />				    
		    </geometry>
		</visual>
	</link>
		
        <gazebo reference="base_chassis_link">
			<mu1 value="0.3"/>
			<mu2 value="0.3"/>
			<kp value="10000000.0" />
			<kd value="1.0" />
			<fdir1 value="1 0 0"/>
        </gazebo>
        
        <joint name="payload_plate_joint" type="continuous">
            <origin xyz="0 0.5 0.5" rpy="0 0 0" />
            <parent link="base_chassis_link" />
            <child link="forward_right_uper_leg" />
        </joint>

	<transmission name="simple_trans">
	  <type>transmission_interface/SimpleTransmission</type>
  	  <joint name="payload_plate_joint">
    		<hardwareInterface>EffortJointInterface</hardwareInterface>
	  </joint>
  	  <actuator name="foo_motor">
    	     <mechanicalReduction>1</mechanicalReduction>
    	     <hardwareInterface>EffortJointInterface</hardwareInterface>
  	 </actuator>
        </transmission>
        
        <link name="forward_right_uper_leg">
		<inertial>
			<mass value="1.0" />
			<origin xyz="0.0 0.0 0.5" />
			<inertia ixx="0.115329"  ixy="-0.000009" ixz="0.000007"
                         iyx="-0.000009"  iyy="0.194172" iyz="0.000002"
                         izx="0.000007" izy="0.000002" izz="0.309399" />
			</inertial>
	         <collision>
		    <geometry>
				<box size="0.5 0.2 1" />				    
		    </geometry>
		</collision>
		<visual>
			<origin xyz="0 0 0" rpy="0 0 0" />
			<geometry>
				<box size="0.5 0.2 1" />				    
			</geometry>
		</visual>
	</link>
        <gazebo reference="forward_right_uper_leg">
			<mu1 value="0.3"/>
			<mu2 value="0.3"/>
			<kp value="10000000.0" />
			<kd value="1.0" />
			<fdir1 value="1 0 0"/>
        </gazebo>	
    </xacro:macro>
</robot>
